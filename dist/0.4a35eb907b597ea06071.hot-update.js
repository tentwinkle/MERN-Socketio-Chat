webpackHotUpdate(0,{53:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _socket = __webpack_require__(112);\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _chatlist = __webpack_require__(135);\n\nvar _chatlist2 = _interopRequireDefault(_chatlist);\n\n__webpack_require__(136);\n\nvar _pubsubJs = __webpack_require__(11);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChatWindow = function (_Component) {\n  _inherits(ChatWindow, _Component);\n\n  function ChatWindow(props) {\n    _classCallCheck(this, ChatWindow);\n\n    var _this = _possibleConstructorReturn(this, (ChatWindow.__proto__ || Object.getPrototypeOf(ChatWindow)).call(this, props));\n\n    var endPoint = location.origin;\n    _this.state = {\n      \'userData\': [],\n      \'display\': \'hidden\',\n      \'status\': \'\',\n      \'chatmessage\': [],\n      \'chatList\': [],\n      \'currentChatWindow\': { \'one\': window.localStorage.getItem(\'userid\'), \'second\': \'\' }\n    };\n\n    _this.typetext = \'\';\n    _this.socket = (0, _socket2.default)(_this.state.endpoint);\n    var userId = window.localStorage.getItem(\'userid\');\n\n    if (userId !== \'null\' && userId !== \'undefined\') {\n      _this.socket.emit(\'INIT_CONNECTION\', { myid: userId });\n    }\n\n    _this.chatEnableHandler = _this.chatEnableHandler.bind(_this);\n    _this.sendchat = _this.sendchat.bind(_this);\n    _this._handleKeyPress = _this._handleKeyPress.bind(_this);\n    _this.socket.on(\'RECEIVE_CHAT_HISTORY\', function (data) {\n      _this.addMessage(data, true);\n    });\n    _this.socket.on(\'RECEIVE_CHAT\', function (data) {\n      _this.addMessage(data, false);\n    });\n\n    return _this;\n  }\n\n  _createClass(ChatWindow, [{\n    key: "addMessage",\n    value: function addMessage(data, flag) {\n      if (flag) {\n        this.setState({ chatList: data.chatData });\n      } else {\n        var arrUser = this.checkChatwithSameUser(data.chattitle);\n        if (arrUser.length > 0) {\n          _pubsubJs2.default.publish(\'NOTIFICATION_TO_USERLIST\', { userId: arrUser });\n        } else {\n\n          // console.log(data);\n          this.setState({ chatList: data.chatData });\n        }\n      }\n    }\n  }, {\n    key: "checkChatwithSameUser",\n    value: function checkChatwithSameUser(chattitle) {\n      var arrTemp = [],\n          arrThatUsers = chattitle.split(\'----\'),\n          arrCurrntActiveWindow = [this.state.currentChatWindow.one, this.state.currentChatWindow.second];\n\n      arrThatUsers.map(function (i) {\n        if (!arrCurrntActiveWindow.includes(i)) {\n          arrTemp.push(i);\n        }\n      });\n      return arrTemp;\n    }\n  }, {\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      _pubsubJs2.default.subscribe(\'TRIGGER_CHAT_ENABLE\', this.chatEnableHandler);\n    }\n  }, {\n    key: "chatEnableHandler",\n    value: function chatEnableHandler(eventstring, data) {\n      var _this2 = this;\n\n      //\n      fetch("/api/getuserdetail/" + data.towhome, { method: \'get\', headers: { \'Content-Type\': \'application/json\' } }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.hasOwnProperty(\'list\')) {\n          //   console.log( json.list);\n          _this2.setState({\n            \'userData\': json.list,\n            \'display\': \'\',\n            \'currentChatWindow\': { \'one\': window.localStorage.getItem(\'userid\'),\n              \'second\': json.list[0]._id\n            }\n          });\n          _this2.showChatonfirstLoad(json.list);\n        }\n      });\n    }\n  }, {\n    key: "showChatonfirstLoad",\n    value: function showChatonfirstLoad(arrUserDetail) {\n      this.socket.emit(\'CHAT_HISTORY\', {\n        myDetail: window.localStorage.getItem(\'userid\'),\n        toDetail: arrUserDetail\n      });\n    }\n  }, {\n    key: "_handleKeyPress",\n    value: function _handleKeyPress(e) {\n      this.typetext = e.target.value;\n      if (e.key === \'Enter\') {\n        this.refs.sendchat.click();\n      }\n    }\n  }, {\n    key: "sendchat",\n    value: function sendchat() {\n      this.socket.emit(\'CHAT_TRIGGER_INDIVIDUAL\', {\n        "pingFrom": window.localStorage.getItem(\'userid\'),\n        "message": this.typetext,\n        "msgTo": this.state.userData[0],\n        "time": Date.now()\n      });\n      this.refs.textmessage.value = \'\';\n    }\n  }, {\n    key: "chatheader",\n    value: function chatheader(state) {\n      if (state.userData.length > 0) {\n        return _react2.default.createElement(\n          "div",\n          { className: "popup-head-left pull-left" },\n          function () {\n            if (state.userData[0].hasOwnProperty(\'userDetail\')) {\n              return _react2.default.createElement("img", { src: state.userData[0].userDetail.photodata, alt: "img" });\n            }\n          }(),\n          state.userData[0].firstName,\n          " ",\n          state.userData[0].lastName\n        );\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement(\n        "main",\n        { className: this.state.display },\n        _react2.default.createElement(\n          "div",\n          { className: "popup-box" },\n          _react2.default.createElement(\n            "div",\n            { className: "chatwindow" },\n            _react2.default.createElement(\n              "div",\n              { className: "popup-head" },\n              " ",\n              this.chatheader(this.state),\n              _react2.default.createElement(\n                "div",\n                { className: "popup-head-right pull-right" },\n                _react2.default.createElement(\n                  "button",\n                  { "data-widget": "remove", id: "removeClass", onClick: function onClick() {\n                      return _this3.setState({ \'display\': \'hidden\' });\n                    }, className: "chat-header-button pull-right", type: "button" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-off" })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              "div",\n              { className: "popup-messages" },\n              _react2.default.createElement(\n                "ul",\n                { className: "chatcontent" },\n                _react2.default.createElement(_chatlist2.default, { props: this.state.chatList })\n              )\n            ),\n            _react2.default.createElement(\n              "div",\n              { className: "popup-messages-footer" },\n              _react2.default.createElement("textarea", { ref: "textmessage", onKeyPress: function onKeyPress(e) {\n                  _this3._handleKeyPress(e);\n                }, defaultValue: "", placeholder: "Type a message...", rows: "10", cols: "40", name: "message" }),\n              _react2.default.createElement(\n                "div",\n                { className: "btn-footer" },\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none dn" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-paperclip" }),\n                  " "\n                ),\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none dn" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-thumbs-up" }),\n                  " "\n                ),\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none pull-right", ref: "sendchat", onClick: this.sendchat },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-send" })\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ChatWindow;\n}(_react.Component);\n\n;\n\nexports.default = ChatWindow;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvY2hhdHdpbmRvdy9jaGF0d2luZG93LmpzP2QzOGMiXSwibmFtZXMiOlsiQ2hhdFdpbmRvdyIsInByb3BzIiwiZW5kUG9pbnQiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInN0YXRlIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInR5cGV0ZXh0Iiwic29ja2V0IiwiZW5kcG9pbnQiLCJ1c2VySWQiLCJlbWl0IiwibXlpZCIsImNoYXRFbmFibGVIYW5kbGVyIiwiYmluZCIsInNlbmRjaGF0IiwiX2hhbmRsZUtleVByZXNzIiwib24iLCJkYXRhIiwiYWRkTWVzc2FnZSIsImZsYWciLCJzZXRTdGF0ZSIsImNoYXRMaXN0IiwiY2hhdERhdGEiLCJhcnJVc2VyIiwiY2hlY2tDaGF0d2l0aFNhbWVVc2VyIiwiY2hhdHRpdGxlIiwibGVuZ3RoIiwicHVibGlzaCIsImFyclRlbXAiLCJhcnJUaGF0VXNlcnMiLCJzcGxpdCIsImFyckN1cnJudEFjdGl2ZVdpbmRvdyIsImN1cnJlbnRDaGF0V2luZG93Iiwib25lIiwic2Vjb25kIiwibWFwIiwiaSIsImluY2x1ZGVzIiwicHVzaCIsInN1YnNjcmliZSIsImV2ZW50c3RyaW5nIiwiZmV0Y2giLCJ0b3dob21lIiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJyZXMiLCJqc29uIiwiaGFzT3duUHJvcGVydHkiLCJsaXN0IiwiX2lkIiwic2hvd0NoYXRvbmZpcnN0TG9hZCIsImFyclVzZXJEZXRhaWwiLCJteURldGFpbCIsInRvRGV0YWlsIiwiZSIsInRhcmdldCIsInZhbHVlIiwia2V5IiwicmVmcyIsImNsaWNrIiwidXNlckRhdGEiLCJEYXRlIiwibm93IiwidGV4dG1lc3NhZ2UiLCJ1c2VyRGV0YWlsIiwicGhvdG9kYXRhIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJkaXNwbGF5IiwiY2hhdGhlYWRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7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RCxFQUFrRyxXQUFVLCtCQUE1RyxFQUE0SSxNQUFLLFFBQWpKO0FBQ0ssdURBQUcsV0FBVSx5QkFBYjtBQURMO0FBREg7QUFEQSxhQURBO0FBUUY7QUFBQTtBQUFBLGdCQUFLLFdBQVUsZ0JBQWY7QUFDQTtBQUFBO0FBQUEsa0JBQUksV0FBVSxhQUFkO0FBQ0Msb0VBQVUsT0FBTyxLQUFLbEIsS0FBTCxDQUFXbUIsUUFBNUI7QUFERDtBQURBLGFBUkU7QUFjRjtBQUFBO0FBQUEsZ0JBQUssV0FBVSx1QkFBZjtBQUNNLDBEQUFXLEtBQUksYUFBZixFQUE4QixZQUFZLG9CQUFDa0MsQ0FBRCxFQUFLO0FBQUUseUJBQUt4QyxlQUFMLENBQXFCd0MsQ0FBckI7QUFBd0IsaUJBQXpFLEVBQTZFLGNBQWEsRUFBMUYsRUFBNkYsYUFBWSxtQkFBekcsRUFBNkgsTUFBSyxJQUFsSSxFQUF1SSxNQUFLLElBQTVJLEVBQWlKLE1BQUssU0FBdEosR0FETjtBQUVLO0FBQUE7QUFBQSxrQkFBSyxXQUFVLFlBQWY7QUFDUTtBQUFBO0FBQUEsb0JBQVEsV0FBVSxZQUFsQjtBQUErQix1REFBRyxXQUFVLCtCQUFiLEdBQS9CO0FBQUE7QUFBQSxpQkFEUjtBQUVRO0FBQUE7QUFBQSxvQkFBUSxXQUFVLFlBQWxCO0FBQStCLHVEQUFHLFdBQVUsK0JBQWIsR0FBL0I7QUFBQTtBQUFBLGlCQUZSO0FBR1E7QUFBQTtBQUFBLG9CQUFRLFdBQVUsb0JBQWxCLEVBQXVDLEtBQUksVUFBM0MsRUFBc0QsU0FBVSxLQUFLekMsUUFBckU7QUFBK0UsdURBQUcsV0FBVSwwQkFBYjtBQUEvRTtBQUhSO0FBRkw7QUFkRTtBQURBO0FBREQsT0FERTtBQThCQTs7Ozs7O0FBR0g7O2tCQUVlakIsVSIsImZpbGUiOiI1My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBpbyBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IENoYXRMaXN0IGZyb20gJy4vY2hhdGxpc3QnO1xuaW1wb3J0IFwiLi4vLi4vc3R5bGUvY3NzL2NoYXR3aW5kb3cuc2Nzc1wiO1xuaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xuXG5jbGFzcyBDaGF0V2luZG93IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgY29uc3QgZW5kUG9pbnQ9bG9jYXRpb24ub3JpZ2luO1xuICAgIHRoaXMuc3RhdGUgPXtcbiAgICAgICd1c2VyRGF0YSc6W10sXG4gICAgICAnZGlzcGxheSc6J2hpZGRlbicsXG4gICAgICAnc3RhdHVzJzonJyxcbiAgICAgICdjaGF0bWVzc2FnZSc6W10sXG4gICAgICAnY2hhdExpc3QnOltdLFxuICAgICAgJ2N1cnJlbnRDaGF0V2luZG93Jzp7J29uZSc6d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSwnc2Vjb25kJzonJ31cbiAgICB9O1xuICAgIFxuICAgdGhpcy50eXBldGV4dD0nJztcbiAgIHRoaXMuc29ja2V0ID0gaW8odGhpcy5zdGF0ZS5lbmRwb2ludCk7XG4gICBsZXQgdXNlcklkPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpO1xuICAgXG4gICBpZih1c2VySWQhPT0nbnVsbCcgJiYgdXNlcklkIT09J3VuZGVmaW5lZCcpe1xuICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ0lOSVRfQ09OTkVDVElPTicsIHtteWlkOnVzZXJJZH0pO1xuICAgfVxuICBcbiAgIHRoaXMuY2hhdEVuYWJsZUhhbmRsZXI9IHRoaXMuY2hhdEVuYWJsZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgIHRoaXMuc2VuZGNoYXQ9IHRoaXMuc2VuZGNoYXQuYmluZCh0aGlzKTtcbiAgIHRoaXMuX2hhbmRsZUtleVByZXNzPXRoaXMuX2hhbmRsZUtleVByZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zb2NrZXQub24oJ1JFQ0VJVkVfQ0hBVF9ISVNUT1JZJywgKGRhdGEpPT57XG4gICAgIHRoaXMuYWRkTWVzc2FnZShkYXRhLHRydWUpO1xuICAgfSk7XG4gICB0aGlzLnNvY2tldC5vbignUkVDRUlWRV9DSEFUJywgKGRhdGEpPT57XG4gICAgICB0aGlzLmFkZE1lc3NhZ2UoZGF0YSxmYWxzZSk7XG4gICB9KTtcbiAgIFxuICB9O1xuICAgXG4gICBcbiAgYWRkTWVzc2FnZShkYXRhLGZsYWcpIHtcbiAgIGlmKGZsYWcpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtjaGF0TGlzdDpkYXRhLmNoYXREYXRhfSk7XG4gICB9ZWxzZXtcbiAgICAgIHZhciBhcnJVc2VyPSAgdGhpcy5jaGVja0NoYXR3aXRoU2FtZVVzZXIoZGF0YS5jaGF0dGl0bGUpO1xuICAgIGlmKGFyclVzZXIubGVuZ3RoPjApe1xuICAgICAgICAgUHViU3ViLnB1Ymxpc2ggKCdOT1RJRklDQVRJT05fVE9fVVNFUkxJU1QnLCB7dXNlcklkOmFyclVzZXJ9KTtcbiAgICB9ZWxzZXtcbiAgICAgICBcbiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgIHRoaXMuc2V0U3RhdGUoe2NoYXRMaXN0OmRhdGEuY2hhdERhdGF9KTtcbiAgICB9XG4gICB9XG4gICAgIFxuICB9O1xuICBcbiAgXG4gIGNoZWNrQ2hhdHdpdGhTYW1lVXNlcihjaGF0dGl0bGUpe1xuICAgIGxldCBhcnJUZW1wPVtdLFxuICAgICAgICBhcnJUaGF0VXNlcnMgPWNoYXR0aXRsZS5zcGxpdCgnLS0tLScpLFxuICAgICAgICBhcnJDdXJybnRBY3RpdmVXaW5kb3c9W3RoaXMuc3RhdGUuY3VycmVudENoYXRXaW5kb3cub25lLHRoaXMuc3RhdGUuY3VycmVudENoYXRXaW5kb3cuc2Vjb25kXTtcbiAgIFxuICAgIGFyclRoYXRVc2Vycy5tYXAoKGkpPT57XG4gICAgICBpZighYXJyQ3Vycm50QWN0aXZlV2luZG93LmluY2x1ZGVzKGkpKXtcbiAgICAgICAgICBhcnJUZW1wLnB1c2goaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICByZXR1cm4gYXJyVGVtcDtcbiAgfTtcbiBcbiAgXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIFB1YlN1Yi5zdWJzY3JpYmUoJ1RSSUdHRVJfQ0hBVF9FTkFCTEUnLHRoaXMuY2hhdEVuYWJsZUhhbmRsZXIpO1xuICB9XG5cbiAgY2hhdEVuYWJsZUhhbmRsZXIoZXZlbnRzdHJpbmcsZGF0YSl7XG4gICAvL1xuICAgICBmZXRjaCAoYC9hcGkvZ2V0dXNlcmRldGFpbC8ke2RhdGEudG93aG9tZX1gLCB7bWV0aG9kOiAnZ2V0JywgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9fVxuICAgICkudGhlbiAocmVzID0+IHJlcy5qc29uICgpXG4gICAgKS50aGVuIChqc29uID0+IHtcbiAgICAgIGlmIChqc29uLmhhc093blByb3BlcnR5ICgnbGlzdCcpKSB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCBqc29uLmxpc3QpO1xuICAgICAgICAgdGhpcy5zZXRTdGF0ZSAoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICd1c2VyRGF0YSc6IGpzb24ubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzonJyxcbiAgICAgICAgICAgICAgICAgICAgICdjdXJyZW50Q2hhdFdpbmRvdyc6eydvbmUnOndpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmlkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICdzZWNvbmQnOmpzb24ubGlzdFswXS5faWRcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgdGhpcy5zaG93Q2hhdG9uZmlyc3RMb2FkKGpzb24ubGlzdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gIHNob3dDaGF0b25maXJzdExvYWQoYXJyVXNlckRldGFpbCl7XG4gICAgdGhpcy5zb2NrZXQuZW1pdCgnQ0hBVF9ISVNUT1JZJywgXG4gICAge1xuICAgICAgbXlEZXRhaWw6d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSxcbiAgICAgIHRvRGV0YWlsOiBhcnJVc2VyRGV0YWlsXG4gICAgfVxuICAgICAgKTtcbiAgfTtcbiAgXG4gIFxuICAgX2hhbmRsZUtleVByZXNzKGUpe1xuICAgICAgIHRoaXMudHlwZXRleHQ9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgIHRoaXMucmVmcy5zZW5kY2hhdC5jbGljaygpO1xuICAgIH1cbiAgfVxuICBcbiAgIFxuICBzZW5kY2hhdCgpe1xuICAgIHRoaXMuc29ja2V0LmVtaXQoJ0NIQVRfVFJJR0dFUl9JTkRJVklEVUFMJywgXG4gICAgICB7XG4gICAgICBcInBpbmdGcm9tXCI6d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSxcbiAgICAgIFwibWVzc2FnZVwiOnRoaXMudHlwZXRleHQsXG4gICAgICBcIm1zZ1RvXCI6dGhpcy5zdGF0ZS51c2VyRGF0YVswXSxcbiAgICAgIFwidGltZVwiOkRhdGUubm93KClcbiAgICB9XG4gICApO1xuICB0aGlzLnJlZnMudGV4dG1lc3NhZ2UudmFsdWU9JycgXG4gIH07XG4gIFxuICBcbiAgY2hhdGhlYWRlcihzdGF0ZSl7XG4gICAgICBpZihzdGF0ZS51c2VyRGF0YS5sZW5ndGg+MCl7XG4gICAgICAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3B1cC1oZWFkLWxlZnQgcHVsbC1sZWZ0XCI+XG4gICAgeygoKT0+e1xuICAgICAgICBpZihzdGF0ZS51c2VyRGF0YVswXS5oYXNPd25Qcm9wZXJ0eSgndXNlckRldGFpbCcpKXtcbiAgICAgICAgICAgICByZXR1cm4oPGltZyBzcmM9e3N0YXRlLnVzZXJEYXRhWzBdLnVzZXJEZXRhaWwucGhvdG9kYXRhfSBhbHQ9XCJpbWdcIi8+KVxuICAgICAgICAgIH1cbiAgICAgIH0pKCl9XG4gICAgICAge3N0YXRlLnVzZXJEYXRhWzBdLmZpcnN0TmFtZX0ge3N0YXRlLnVzZXJEYXRhWzBdLmxhc3ROYW1lfVxuICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICAgIH0gXG4gIH1cbiAgIFxuICByZW5kZXIoKSB7XG4gICByZXR1cm4gKFxuIDxtYWluIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5kaXNwbGF5fSA+XG4gIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1ib3gnPiBcbiAgPGRpdiAgY2xhc3NOYW1lPSdjaGF0d2luZG93Jz5cbiAgPGRpdiBjbGFzc05hbWU9XCJwb3B1cC1oZWFkXCI+IHt0aGlzLmNoYXRoZWFkZXIodGhpcy5zdGF0ZSl9XG4gIDxkaXYgY2xhc3NOYW1lPVwicG9wdXAtaGVhZC1yaWdodCBwdWxsLXJpZ2h0XCI+XG4gICAgIDxidXR0b24gZGF0YS13aWRnZXQ9XCJyZW1vdmVcIiBpZD1cInJlbW92ZUNsYXNzXCIgb25DbGljayA9eygpPT4gdGhpcy5zZXRTdGF0ZSh7J2Rpc3BsYXknOidoaWRkZW4nfSl9IGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyLWJ1dHRvbiBwdWxsLXJpZ2h0XCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tb2ZmXCI+PC9pPlxuICAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG48L2Rpdj5cbjxkaXYgY2xhc3NOYW1lPVwicG9wdXAtbWVzc2FnZXNcIj4gXG48dWwgY2xhc3NOYW1lPVwiY2hhdGNvbnRlbnRcIj5cbiA8Q2hhdExpc3QgcHJvcHM9e3RoaXMuc3RhdGUuY2hhdExpc3R9Lz5cbjwvdWw+IFxuPC9kaXY+XG5cbjxkaXYgY2xhc3NOYW1lPVwicG9wdXAtbWVzc2FnZXMtZm9vdGVyXCI+XG4gICAgICA8dGV4dGFyZWEgIHJlZj1cInRleHRtZXNzYWdlXCIgIG9uS2V5UHJlc3M9eyhlKT0+eyB0aGlzLl9oYW5kbGVLZXlQcmVzcyhlKX19ICAgZGVmYXVsdFZhbHVlPVwiXCIgcGxhY2Vob2xkZXI9XCJUeXBlIGEgbWVzc2FnZS4uLlwiIHJvd3M9XCIxMFwiIGNvbHM9XCI0MFwiIG5hbWU9XCJtZXNzYWdlXCIvPiAgXG4gICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWZvb3RlclwiPlxuICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYmdfbm9uZSBkblwiPjxpIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tcGFwZXJjbGlwXCI+PC9pPiA8L2J1dHRvbj5cbiAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJnX25vbmUgZG5cIj48aSBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvaT4gPC9idXR0b24+XG4gICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJiZ19ub25lIHB1bGwtcmlnaHRcIiByZWY9J3NlbmRjaGF0JyBvbkNsaWNrID17dGhpcy5zZW5kY2hhdH0+PGkgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1zZW5kXCI+PC9pPiBcbiAgICAgICA8L2J1dHRvbj5cbiAgICAgPC9kaXY+XG48L2Rpdj5cbjwvZGl2PlxuPC9kaXY+XG48L21haW4+XG4gICAgKTtcbiAgfVxuICA7XG59XG47XG5cbmV4cG9ydCBkZWZhdWx0IENoYXRXaW5kb3c7XG5cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvY2hhdHdpbmRvdy9jaGF0d2luZG93LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53\n')}});