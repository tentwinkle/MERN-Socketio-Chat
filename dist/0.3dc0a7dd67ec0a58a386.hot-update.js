webpackHotUpdate(0,{53:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _socket = __webpack_require__(112);\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _chatlist = __webpack_require__(135);\n\nvar _chatlist2 = _interopRequireDefault(_chatlist);\n\n__webpack_require__(136);\n\nvar _pubsubJs = __webpack_require__(11);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChatWindow = function (_Component) {\n  _inherits(ChatWindow, _Component);\n\n  function ChatWindow(props) {\n    _classCallCheck(this, ChatWindow);\n\n    var _this = _possibleConstructorReturn(this, (ChatWindow.__proto__ || Object.getPrototypeOf(ChatWindow)).call(this, props));\n\n    var endPoint = location.origin;\n    _this.state = {\n      \'userData\': [],\n      \'display\': \'hidden\',\n      \'status\': \'\',\n      \'chatmessage\': [],\n      \'chatList\': [],\n      \'currentChatWindow\': { \'one\': window.localStorage.getItem(\'userid\'), \'second\': \'\' }\n    };\n\n    _this.typetext = \'\';\n    _this.socket = (0, _socket2.default)(_this.state.endpoint);\n    var userId = window.localStorage.getItem(\'userid\');\n\n    if (userId !== \'null\' && userId !== \'undefined\') {\n      _this.socket.emit(\'INIT_CONNECTION\', { myid: userId });\n    }\n\n    _this.chatEnableHandler = _this.chatEnableHandler.bind(_this);\n    _this.sendchat = _this.sendchat.bind(_this);\n    _this._handleKeyPress = _this._handleKeyPress.bind(_this);\n    _this.socket.on(\'RECEIVE_CHAT_HISTORY\', function (data) {\n      _this.addMessage(data, true);\n    });\n    _this.socket.on(\'RECEIVE_CHAT\', function (data) {\n      _this.addMessage(data, false);\n    });\n\n    return _this;\n  }\n\n  _createClass(ChatWindow, [{\n    key: "addMessage",\n    value: function addMessage(data, flag) {\n      if (flag) {\n        this.setState({ chatList: data.chatData });\n      } else {\n        var arrUser = this.checkChatwithSameUser(data.chattitle);\n        if (arrUser.length > 0) {\n          _pubsubJs2.default.publish(\'NOTIFICATION_TO_USERLIST\', { userId: arrUser });\n        } else {\n\n          // console.log(data);\n          this.setState({ chatList: data.chatData });\n        }\n      }\n    }\n  }, {\n    key: "checkChatwithSameUser",\n    value: function checkChatwithSameUser(chattitle) {\n      var arrTemp = [],\n          arrThatUsers = chattitle.split(\'----\'),\n          arrCurrntActiveWindow = [this.state.currentChatWindow.one, this.state.currentChatWindow.second];\n\n      arrThatUsers.map(function (i) {\n        if (!arrCurrntActiveWindow.includes(i)) {\n          arrTemp.push(i);\n        }\n      });\n      return arrTemp;\n    }\n  }, {\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      _pubsubJs2.default.subscribe(\'TRIGGER_CHAT_ENABLE\', this.chatEnableHandler);\n    }\n  }, {\n    key: "chatEnableHandler",\n    value: function chatEnableHandler(eventstring, data) {\n      var _this2 = this;\n\n      //\n      fetch("/api/getuserdetail/" + data.towhome, { method: \'get\', headers: { \'Content-Type\': \'application/json\' } }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.hasOwnProperty(\'list\')) {\n          //   console.log( json.list);\n          _this2.setState({\n            \'userData\': json.list,\n            \'display\': \'\',\n            \'currentChatWindow\': { \'one\': window.localStorage.getItem(\'userid\'),\n              \'second\': json.list[0]._id\n            }\n          });\n          _this2.showChatonfirstLoad(json.list);\n        }\n      });\n    }\n  }, {\n    key: "showChatonfirstLoad",\n    value: function showChatonfirstLoad(arrUserDetail) {\n      this.socket.emit(\'CHAT_HISTORY\', {\n        myDetail: window.localStorage.getItem(\'userid\'),\n        toDetail: arrUserDetail\n      });\n    }\n  }, {\n    key: "_handleKeyPress",\n    value: function _handleKeyPress(e) {\n      this.typetext = e.target.value;\n      if (e.key === \'Enter\') {\n        this.refs.sendchat.click();\n      }\n    }\n  }, {\n    key: "sendchat",\n    value: function sendchat() {\n      this.socket.emit(\'CHAT_TRIGGER_INDIVIDUAL\', {\n        "pingFrom": window.localStorage.getItem(\'userid\'),\n        "message": this.typetext,\n        "msgTo": this.state.userData[0],\n        "time": Date.now()\n      });\n      this.refs.textmessage.value = \'\';\n    }\n  }, {\n    key: "chatheader",\n    value: function chatheader(state) {\n      if (state.userData.length > 0) {\n        return _react2.default.createElement(\n          "div",\n          { className: "popup-head-left pull-left" },\n          function () {\n            if (state.userData[0].hasOwnProperty(\'userDetail\')) {\n              return _react2.default.createElement("img", { src: state.userData[0].userDetail.photodata, alt: "img" });\n            }\n          }(),\n          state.userData[0].firstName,\n          " ",\n          state.userData[0].lastName\n        );\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement(\n        "main",\n        { className: this.state.display },\n        _react2.default.createElement(\n          "div",\n          { className: "popup-box" },\n          _react2.default.createElement(\n            "div",\n            { className: "chatwindow" },\n            _react2.default.createElement(\n              "div",\n              { className: "popup-head" },\n              " ",\n              this.chatheader(this.state),\n              _react2.default.createElement(\n                "div",\n                { className: "popup-head-right pull-right" },\n                _react2.default.createElement(\n                  "button",\n                  { "data-widget": "remove", id: "removeClass", onClick: function onClick() {\n                      return _this3.setState({ \'display\': \'hidden\' });\n                    },\n                    className: "chat-header-button pull-right", type: "button" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-off" })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              "div",\n              { className: "popup-messages" },\n              _react2.default.createElement(\n                "ul",\n                { className: "chatcontent" },\n                _react2.default.createElement(_chatlist2.default, { props: this.state.chatList })\n              )\n            ),\n            _react2.default.createElement(\n              "div",\n              { className: "popup-messages-footer" },\n              _react2.default.createElement("textarea", { ref: "textmessage", onKeyPress: function onKeyPress(e) {\n                  _this3._handleKeyPress(e);\n                }, defaultValue: "", placeholder: "Type a message...", rows: "10", cols: "40", name: "message" }),\n              _react2.default.createElement(\n                "div",\n                { className: "btn-footer" },\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none dn" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-paperclip" }),\n                  " "\n                ),\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none dn" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-thumbs-up" }),\n                  " "\n                ),\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none pull-right", ref: "sendchat", onClick: this.sendchat },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-send" })\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ChatWindow;\n}(_react.Component);\n\n;\n\nexports.default = ChatWindow;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvY2hhdHdpbmRvdy9jaGF0d2luZG93LmpzP2QzOGMiXSwibmFtZXMiOlsiQ2hhdFdpbmRvdyIsInByb3BzIiwiZW5kUG9pbnQiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInN0YXRlIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInR5cGV0ZXh0Iiwic29ja2V0IiwiZW5kcG9pbnQiLCJ1c2VySWQiLCJlbWl0IiwibXlpZCIsImNoYXRFbmFibGVIYW5kbGVyIiwiYmluZCIsInNlbmRjaGF0IiwiX2hhbmRsZUtleVByZXNzIiwib24iLCJkYXRhIiwiYWRkTWVzc2FnZSIsImZsYWciLCJzZXRTdGF0ZSIsImNoYXRMaXN0IiwiY2hhdERhdGEiLCJhcnJVc2VyIiwiY2hlY2tDaGF0d2l0aFNhbWVVc2VyIiwiY2hhdHRpdGxlIiwibGVuZ3RoIiwicHVibGlzaCIsImFyclRlbXAiLCJhcnJUaGF0VXNlcnMiLCJzcGxpdCIsImFyckN1cnJudEFjdGl2ZVdpbmRvdyIsImN1cnJlbnRDaGF0V2luZG93Iiwib25lIiwic2Vjb25kIiwibWFwIiwiaSIsImluY2x1ZGVzIiwicHVzaCIsInN1YnNjcmliZSIsImV2ZW50c3RyaW5nIiwiZmV0Y2giLCJ0b3dob21lIiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJyZXMiLCJqc29uIiwiaGFzT3duUHJvcGVydHkiLCJsaXN0IiwiX2lkIiwic2hvd0NoYXRvbmZpcnN0TG9hZCIsImFyclVzZXJEZXRhaWwiLCJteURldGFpbCIsInRvRGV0YWlsIiwiZSIsInRhcmdldCIsInZhbHVlIiwia2V5IiwicmVmcyIsImNsaWNrIiwidXNlckRhdGEiLCJEYXRlIiwibm93IiwidGV4dG1lc3NhZ2UiLCJ1c2VyRGV0YWlsIiwicGhvdG9kYXRhIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJkaXNwbGF5IiwiY2hhdGhlYWRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7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RDtBQUNFLCtCQUFVLCtCQURaLEVBQzRDLE1BQUssUUFEakQ7QUFFSyx1REFBRyxXQUFVLHlCQUFiO0FBRkw7QUFESDtBQURBLGFBREE7QUFTRjtBQUFBO0FBQUEsZ0JBQUssV0FBVSxnQkFBZjtBQUNBO0FBQUE7QUFBQSxrQkFBSSxXQUFVLGFBQWQ7QUFDQyxvRUFBVSxPQUFPLEtBQUtsQixLQUFMLENBQVdtQixRQUE1QjtBQUREO0FBREEsYUFURTtBQWVGO0FBQUE7QUFBQSxnQkFBSyxXQUFVLHVCQUFmO0FBQ00sMERBQVcsS0FBSSxhQUFmLEVBQThCLFlBQVksb0JBQUNrQyxDQUFELEVBQUs7QUFBRSx5QkFBS3hDLGVBQUwsQ0FBcUJ3QyxDQUFyQjtBQUF3QixpQkFBekUsRUFBNkUsY0FBYSxFQUExRixFQUE2RixhQUFZLG1CQUF6RyxFQUE2SCxNQUFLLElBQWxJLEVBQXVJLE1BQUssSUFBNUksRUFBaUosTUFBSyxTQUF0SixHQUROO0FBRUs7QUFBQTtBQUFBLGtCQUFLLFdBQVUsWUFBZjtBQUNRO0FBQUE7QUFBQSxvQkFBUSxXQUFVLFlBQWxCO0FBQStCLHVEQUFHLFdBQVUsK0JBQWIsR0FBL0I7QUFBQTtBQUFBLGlCQURSO0FBRVE7QUFBQTtBQUFBLG9CQUFRLFdBQVUsWUFBbEI7QUFBK0IsdURBQUcsV0FBVSwrQkFBYixHQUEvQjtBQUFBO0FBQUEsaUJBRlI7QUFHUTtBQUFBO0FBQUEsb0JBQVEsV0FBVSxvQkFBbEIsRUFBdUMsS0FBSSxVQUEzQyxFQUFzRCxTQUFVLEtBQUt6QyxRQUFyRTtBQUErRSx1REFBRyxXQUFVLDBCQUFiO0FBQS9FO0FBSFI7QUFGTDtBQWZFO0FBREE7QUFERCxPQURFO0FBK0JBOzs7Ozs7QUFHSDs7a0JBRWVqQixVIiwiZmlsZSI6IjUzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGlvIGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XG5pbXBvcnQgQ2hhdExpc3QgZnJvbSAnLi9jaGF0bGlzdCc7XG5pbXBvcnQgXCIuLi8uLi9zdHlsZS9jc3MvY2hhdHdpbmRvdy5zY3NzXCI7XG5pbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XG5cbmNsYXNzIENoYXRXaW5kb3cgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvciAocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBjb25zdCBlbmRQb2ludD1sb2NhdGlvbi5vcmlnaW47XG4gICAgdGhpcy5zdGF0ZSA9e1xuICAgICAgJ3VzZXJEYXRhJzpbXSxcbiAgICAgICdkaXNwbGF5JzonaGlkZGVuJyxcbiAgICAgICdzdGF0dXMnOicnLFxuICAgICAgJ2NoYXRtZXNzYWdlJzpbXSxcbiAgICAgICdjaGF0TGlzdCc6W10sXG4gICAgICAnY3VycmVudENoYXRXaW5kb3cnOnsnb25lJzp3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpLCdzZWNvbmQnOicnfVxuICAgIH07XG4gICAgXG4gICB0aGlzLnR5cGV0ZXh0PScnO1xuICAgdGhpcy5zb2NrZXQgPSBpbyh0aGlzLnN0YXRlLmVuZHBvaW50KTtcbiAgIGxldCB1c2VySWQ9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmlkJyk7XG4gICBcbiAgIGlmKHVzZXJJZCE9PSdudWxsJyAmJiB1c2VySWQhPT0ndW5kZWZpbmVkJyl7XG4gICAgICAgdGhpcy5zb2NrZXQuZW1pdCgnSU5JVF9DT05ORUNUSU9OJywge215aWQ6dXNlcklkfSk7XG4gICB9XG4gIFxuICAgdGhpcy5jaGF0RW5hYmxlSGFuZGxlcj0gdGhpcy5jaGF0RW5hYmxlSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgdGhpcy5zZW5kY2hhdD0gdGhpcy5zZW5kY2hhdC5iaW5kKHRoaXMpO1xuICAgdGhpcy5faGFuZGxlS2V5UHJlc3M9dGhpcy5faGFuZGxlS2V5UHJlc3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNvY2tldC5vbignUkVDRUlWRV9DSEFUX0hJU1RPUlknLCAoZGF0YSk9PntcbiAgICAgdGhpcy5hZGRNZXNzYWdlKGRhdGEsdHJ1ZSk7XG4gICB9KTtcbiAgIHRoaXMuc29ja2V0Lm9uKCdSRUNFSVZFX0NIQVQnLCAoZGF0YSk9PntcbiAgICAgIHRoaXMuYWRkTWVzc2FnZShkYXRhLGZhbHNlKTtcbiAgIH0pO1xuICAgXG4gIH07XG4gICBcbiAgIFxuICBhZGRNZXNzYWdlKGRhdGEsZmxhZykge1xuICAgaWYoZmxhZyl7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2NoYXRMaXN0OmRhdGEuY2hhdERhdGF9KTtcbiAgIH1lbHNle1xuICAgICAgdmFyIGFyclVzZXI9ICB0aGlzLmNoZWNrQ2hhdHdpdGhTYW1lVXNlcihkYXRhLmNoYXR0aXRsZSk7XG4gICAgaWYoYXJyVXNlci5sZW5ndGg+MCl7XG4gICAgICAgICBQdWJTdWIucHVibGlzaCAoJ05PVElGSUNBVElPTl9UT19VU0VSTElTVCcsIHt1c2VySWQ6YXJyVXNlcn0pO1xuICAgIH1lbHNle1xuICAgICAgIFxuICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgdGhpcy5zZXRTdGF0ZSh7Y2hhdExpc3Q6ZGF0YS5jaGF0RGF0YX0pO1xuICAgIH1cbiAgIH1cbiAgICAgXG4gIH07XG4gIFxuICBcbiAgY2hlY2tDaGF0d2l0aFNhbWVVc2VyKGNoYXR0aXRsZSl7XG4gICAgbGV0IGFyclRlbXA9W10sXG4gICAgICAgIGFyclRoYXRVc2VycyA9Y2hhdHRpdGxlLnNwbGl0KCctLS0tJyksXG4gICAgICAgIGFyckN1cnJudEFjdGl2ZVdpbmRvdz1bdGhpcy5zdGF0ZS5jdXJyZW50Q2hhdFdpbmRvdy5vbmUsdGhpcy5zdGF0ZS5jdXJyZW50Q2hhdFdpbmRvdy5zZWNvbmRdO1xuICAgXG4gICAgYXJyVGhhdFVzZXJzLm1hcCgoaSk9PntcbiAgICAgIGlmKCFhcnJDdXJybnRBY3RpdmVXaW5kb3cuaW5jbHVkZXMoaSkpe1xuICAgICAgICAgIGFyclRlbXAucHVzaChpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgIHJldHVybiBhcnJUZW1wO1xuICB9O1xuIFxuICBcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgUHViU3ViLnN1YnNjcmliZSgnVFJJR0dFUl9DSEFUX0VOQUJMRScsdGhpcy5jaGF0RW5hYmxlSGFuZGxlcik7XG4gIH1cblxuICBjaGF0RW5hYmxlSGFuZGxlcihldmVudHN0cmluZyxkYXRhKXtcbiAgIC8vXG4gICAgIGZldGNoIChgL2FwaS9nZXR1c2VyZGV0YWlsLyR7ZGF0YS50b3dob21lfWAsIHttZXRob2Q6ICdnZXQnLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ319XG4gICAgKS50aGVuIChyZXMgPT4gcmVzLmpzb24gKClcbiAgICApLnRoZW4gKGpzb24gPT4ge1xuICAgICAgaWYgKGpzb24uaGFzT3duUHJvcGVydHkgKCdsaXN0JykpIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coIGpzb24ubGlzdCk7XG4gICAgICAgICB0aGlzLnNldFN0YXRlIChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgJ3VzZXJEYXRhJzoganNvbi5saXN0LFxuICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOicnLFxuICAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRDaGF0V2luZG93Jzp7J29uZSc6d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgJ3NlY29uZCc6anNvbi5saXN0WzBdLl9pZFxuICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICB0aGlzLnNob3dDaGF0b25maXJzdExvYWQoanNvbi5saXN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgc2hvd0NoYXRvbmZpcnN0TG9hZChhcnJVc2VyRGV0YWlsKXtcbiAgICB0aGlzLnNvY2tldC5lbWl0KCdDSEFUX0hJU1RPUlknLCBcbiAgICB7XG4gICAgICBteURldGFpbDp3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpLFxuICAgICAgdG9EZXRhaWw6IGFyclVzZXJEZXRhaWxcbiAgICB9XG4gICAgICApO1xuICB9O1xuICBcbiAgXG4gICBfaGFuZGxlS2V5UHJlc3MoZSl7XG4gICAgICAgdGhpcy50eXBldGV4dD0gZS50YXJnZXQudmFsdWU7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgdGhpcy5yZWZzLnNlbmRjaGF0LmNsaWNrKCk7XG4gICAgfVxuICB9XG4gIFxuICAgXG4gIHNlbmRjaGF0KCl7XG4gICAgdGhpcy5zb2NrZXQuZW1pdCgnQ0hBVF9UUklHR0VSX0lORElWSURVQUwnLCBcbiAgICAgIHtcbiAgICAgIFwicGluZ0Zyb21cIjp3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpLFxuICAgICAgXCJtZXNzYWdlXCI6dGhpcy50eXBldGV4dCxcbiAgICAgIFwibXNnVG9cIjp0aGlzLnN0YXRlLnVzZXJEYXRhWzBdLFxuICAgICAgXCJ0aW1lXCI6RGF0ZS5ub3coKVxuICAgIH1cbiAgICk7XG4gIHRoaXMucmVmcy50ZXh0bWVzc2FnZS52YWx1ZT0nJyBcbiAgfTtcbiAgXG4gIFxuICBjaGF0aGVhZGVyKHN0YXRlKXtcbiAgICAgIGlmKHN0YXRlLnVzZXJEYXRhLmxlbmd0aD4wKXtcbiAgICAgICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcHVwLWhlYWQtbGVmdCBwdWxsLWxlZnRcIj5cbiAgICB7KCgpPT57XG4gICAgICAgIGlmKHN0YXRlLnVzZXJEYXRhWzBdLmhhc093blByb3BlcnR5KCd1c2VyRGV0YWlsJykpe1xuICAgICAgICAgICAgIHJldHVybig8aW1nIHNyYz17c3RhdGUudXNlckRhdGFbMF0udXNlckRldGFpbC5waG90b2RhdGF9IGFsdD1cImltZ1wiLz4pXG4gICAgICAgICAgfVxuICAgICAgfSkoKX1cbiAgICAgICB7c3RhdGUudXNlckRhdGFbMF0uZmlyc3ROYW1lfSB7c3RhdGUudXNlckRhdGFbMF0ubGFzdE5hbWV9XG4gICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgfSBcbiAgfVxuICAgXG4gIHJlbmRlcigpIHtcbiAgIHJldHVybiAoXG4gPG1haW4gY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmRpc3BsYXl9ID5cbiAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLWJveCc+IFxuICA8ZGl2ICBjbGFzc05hbWU9J2NoYXR3aW5kb3cnPlxuICA8ZGl2IGNsYXNzTmFtZT1cInBvcHVwLWhlYWRcIj4ge3RoaXMuY2hhdGhlYWRlcih0aGlzLnN0YXRlKX1cbiAgPGRpdiBjbGFzc05hbWU9XCJwb3B1cC1oZWFkLXJpZ2h0IHB1bGwtcmlnaHRcIj5cbiAgICAgPGJ1dHRvbiBkYXRhLXdpZGdldD1cInJlbW92ZVwiIGlkPVwicmVtb3ZlQ2xhc3NcIiBvbkNsaWNrID17KCk9PiB0aGlzLnNldFN0YXRlKHsnZGlzcGxheSc6J2hpZGRlbid9KX0gXG4gICAgICAgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXItYnV0dG9uIHB1bGwtcmlnaHRcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1vZmZcIj48L2k+XG4gICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbjwvZGl2PlxuPGRpdiBjbGFzc05hbWU9XCJwb3B1cC1tZXNzYWdlc1wiPiBcbjx1bCBjbGFzc05hbWU9XCJjaGF0Y29udGVudFwiPlxuIDxDaGF0TGlzdCBwcm9wcz17dGhpcy5zdGF0ZS5jaGF0TGlzdH0vPlxuPC91bD4gXG48L2Rpdj5cblxuPGRpdiBjbGFzc05hbWU9XCJwb3B1cC1tZXNzYWdlcy1mb290ZXJcIj5cbiAgICAgIDx0ZXh0YXJlYSAgcmVmPVwidGV4dG1lc3NhZ2VcIiAgb25LZXlQcmVzcz17KGUpPT57IHRoaXMuX2hhbmRsZUtleVByZXNzKGUpfX0gICBkZWZhdWx0VmFsdWU9XCJcIiBwbGFjZWhvbGRlcj1cIlR5cGUgYSBtZXNzYWdlLi4uXCIgcm93cz1cIjEwXCIgY29scz1cIjQwXCIgbmFtZT1cIm1lc3NhZ2VcIi8+ICBcbiAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZm9vdGVyXCI+XG4gICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJiZ19ub25lIGRuXCI+PGkgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wYXBlcmNsaXBcIj48L2k+IDwvYnV0dG9uPlxuICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYmdfbm9uZSBkblwiPjxpIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLXVwXCI+PC9pPiA8L2J1dHRvbj5cbiAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJnX25vbmUgcHVsbC1yaWdodFwiIHJlZj0nc2VuZGNoYXQnIG9uQ2xpY2sgPXt0aGlzLnNlbmRjaGF0fT48aSBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLXNlbmRcIj48L2k+IFxuICAgICAgIDwvYnV0dG9uPlxuICAgICA8L2Rpdj5cbjwvZGl2PlxuPC9kaXY+XG48L2Rpdj5cbjwvbWFpbj5cbiAgICApO1xuICB9XG4gIDtcbn1cbjtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhdFdpbmRvdztcblxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NsaWVudC9zcmMvY29tcG9uZW50cy9jaGF0d2luZG93L2NoYXR3aW5kb3cuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///53\n')}});