webpackHotUpdate(0,{53:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _socket = __webpack_require__(112);\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _chatlist = __webpack_require__(135);\n\nvar _chatlist2 = _interopRequireDefault(_chatlist);\n\n__webpack_require__(136);\n\nvar _pubsubJs = __webpack_require__(11);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChatWindow = function (_Component) {\n  _inherits(ChatWindow, _Component);\n\n  function ChatWindow(props) {\n    _classCallCheck(this, ChatWindow);\n\n    var _this = _possibleConstructorReturn(this, (ChatWindow.__proto__ || Object.getPrototypeOf(ChatWindow)).call(this, props));\n\n    var endPoint = location.origin;\n    _this.state = {\n      \'userData\': [],\n      \'display\': \'hidden\',\n      \'status\': \'\',\n      \'chatmessage\': [],\n      \'chatList\': [],\n      \'currentChatWindow\': { \'one\': window.localStorage.getItem(\'userid\'), \'second\': \'\' }\n    };\n\n    _this.typetext = \'\';\n    _this.socket = (0, _socket2.default)(_this.state.endpoint);\n    var userId = window.localStorage.getItem(\'userid\');\n\n    if (userId !== \'null\' && userId !== \'undefined\') {\n      _this.socket.emit(\'INIT_CONNECTION\', { myid: userId });\n    }\n\n    _this.chatEnableHandler = _this.chatEnableHandler.bind(_this);\n    _this.sendchat = _this.sendchat.bind(_this);\n    _this._handleKeyPress = _this._handleKeyPress.bind(_this);\n    _this.socket.on(\'RECEIVE_CHAT_HISTORY\', function (data) {\n      _this.addMessage(data, true);\n    });\n    _this.socket.on(\'RECEIVE_CHAT\', function (data) {\n      _this.addMessage(data, false);\n    });\n\n    return _this;\n  }\n\n  _createClass(ChatWindow, [{\n    key: "addMessage",\n    value: function addMessage(data, flag) {\n      if (flag) {\n        this.setState({ chatList: data.chatData });\n      } else {\n        var arrUser = this.checkChatwithSameUser(data.chattitle);\n        if (arrUser.length > 0) {\n          _pubsubJs2.default.publish(\'NOTIFICATION_TO_USERLIST\', { userId: arrUser });\n        } else {\n\n          // console.log(data);\n          this.setState({ chatList: data.chatData });\n        }\n      }\n    }\n  }, {\n    key: "checkChatwithSameUser",\n    value: function checkChatwithSameUser(chattitle) {\n      var arrTemp = [],\n          arrThatUsers = chattitle.split(\'----\'),\n          arrCurrntActiveWindow = [this.state.currentChatWindow.one, this.state.currentChatWindow.second];\n\n      arrThatUsers.map(function (i) {\n        if (!arrCurrntActiveWindow.includes(i)) {\n          arrTemp.push(i);\n        }\n      });\n      return arrTemp;\n    }\n  }, {\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      _pubsubJs2.default.subscribe(\'TRIGGER_CHAT_ENABLE\', this.chatEnableHandler);\n    }\n  }, {\n    key: "chatEnableHandler",\n    value: function chatEnableHandler(eventstring, data) {\n      var _this2 = this;\n\n      //\n      fetch("/api/getuserdetail/" + data.towhome, { method: \'get\', headers: { \'Content-Type\': \'application/json\' } }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.hasOwnProperty(\'list\')) {\n          //   console.log( json.list);\n          _this2.setState({\n            \'userData\': json.list,\n            \'display\': \'\',\n            \'currentChatWindow\': { \'one\': window.localStorage.getItem(\'userid\'),\n              \'second\': json.list[0]._id\n            }\n          });\n          _this2.showChatonfirstLoad(json.list);\n        }\n      });\n    }\n  }, {\n    key: "showChatonfirstLoad",\n    value: function showChatonfirstLoad(arrUserDetail) {\n      this.socket.emit(\'CHAT_HISTORY\', {\n        myDetail: window.localStorage.getItem(\'userid\'),\n        toDetail: arrUserDetail\n      });\n    }\n  }, {\n    key: "_handleKeyPress",\n    value: function _handleKeyPress(e) {\n      this.typetext = e.target.value;\n      if (e.key === \'Enter\') {\n        this.refs.sendchat.click();\n      }\n    }\n  }, {\n    key: "sendchat",\n    value: function sendchat() {\n      this.socket.emit(\'CHAT_TRIGGER_INDIVIDUAL\', {\n        "pingFrom": window.localStorage.getItem(\'userid\'),\n        "message": this.typetext,\n        "msgTo": this.state.userData[0],\n        "time": Date.now()\n      });\n      this.refs.textmessage.value = \'\';\n    }\n  }, {\n    key: "chatheader",\n    value: function chatheader(state) {\n      if (state.userData.length > 0) {\n        return _react2.default.createElement(\n          "div",\n          { className: "popup-head-left pull-left" },\n          function () {\n            if (state.userData[0].hasOwnProperty(\'userDetail\')) {\n              // return(<img src={state.userData[0].userDetail.photodata} alt="img"/>)\n            }\n          }(),\n          state.userData[0].firstName,\n          " ",\n          state.userData[0].lastName\n        );\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement(\n        "main",\n        { className: this.state.display },\n        _react2.default.createElement(\n          "div",\n          { className: "popup-box" },\n          _react2.default.createElement(\n            "div",\n            { className: "chatwindow" },\n            _react2.default.createElement(\n              "div",\n              { className: "popup-head" },\n              this.chatheader(this.state),\n              _react2.default.createElement(\n                "div",\n                { className: "popup-head-right pull-right" },\n                _react2.default.createElement(\n                  "button",\n                  { "data-widget": "remove", id: "removeClass", onClick: function onClick() {\n                      return _this3.setState({ \'display\': \'hidden\' });\n                    },\n                    className: "chat-header-button pull-right", type: "button" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-off" })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              "div",\n              { className: "popup-messages" },\n              _react2.default.createElement(\n                "ul",\n                { className: "chatcontent" },\n                _react2.default.createElement(_chatlist2.default, { props: this.state.chatList })\n              )\n            ),\n            _react2.default.createElement(\n              "div",\n              { className: "popup-messages-footer" },\n              _react2.default.createElement("textarea", { ref: "textmessage", onKeyPress: function onKeyPress(e) {\n                  _this3._handleKeyPress(e);\n                }, defaultValue: "", placeholder: "Type a message...", rows: "10", cols: "40", name: "message" }),\n              _react2.default.createElement(\n                "div",\n                { className: "btn-footer" },\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none dn" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-paperclip" }),\n                  " "\n                ),\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none dn" },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-thumbs-up" }),\n                  " "\n                ),\n                _react2.default.createElement(\n                  "button",\n                  { className: "bg_none pull-right", ref: "sendchat", onClick: this.sendchat },\n                  _react2.default.createElement("i", { className: "glyphicon glyphicon-send" })\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ChatWindow;\n}(_react.Component);\n\n;\n\nexports.default = ChatWindow;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvY2hhdHdpbmRvdy9jaGF0d2luZG93LmpzP2QzOGMiXSwibmFtZXMiOlsiQ2hhdFdpbmRvdyIsInByb3BzIiwiZW5kUG9pbnQiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInN0YXRlIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInR5cGV0ZXh0Iiwic29ja2V0IiwiZW5kcG9pbnQiLCJ1c2VySWQiLCJlbWl0IiwibXlpZCIsImNoYXRFbmFibGVIYW5kbGVyIiwiYmluZCIsInNlbmRjaGF0IiwiX2hhbmRsZUtleVByZXNzIiwib24iLCJkYXRhIiwiYWRkTWVzc2FnZSIsImZsYWciLCJzZXRTdGF0ZSIsImNoYXRMaXN0IiwiY2hhdERhdGEiLCJhcnJVc2VyIiwiY2hlY2tDaGF0d2l0aFNhbWVVc2VyIiwiY2hhdHRpdGxlIiwibGVuZ3RoIiwicHVibGlzaCIsImFyclRlbXAiLCJhcnJUaGF0VXNlcnMiLCJzcGxpdCIsImFyckN1cnJudEFjdGl2ZVdpbmRvdyIsImN1cnJlbnRDaGF0V2luZG93Iiwib25lIiwic2Vjb25kIiwibWFwIiwiaSIsImluY2x1ZGVzIiwicHVzaCIsInN1YnNjcmliZSIsImV2ZW50c3RyaW5nIiwiZmV0Y2giLCJ0b3dob21lIiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJyZXMiLCJqc29uIiwiaGFzT3duUHJvcGVydHkiLCJsaXN0IiwiX2lkIiwic2hvd0NoYXRvbmZpcnN0TG9hZCIsImFyclVzZXJEZXRhaWwiLCJteURldGFpbCIsInRvRGV0YWlsIiwiZSIsInRhcmdldCIsInZhbHVlIiwia2V5IiwicmVmcyIsImNsaWNrIiwidXNlckRhdGEiLCJEYXRlIiwibm93IiwidGV4dG1lc3NhZ2UiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImRpc3BsYXkiLCJjaGF0aGVhZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztB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QUFBLGtCQUFJLFdBQVUsYUFBZDtBQUNDLG9FQUFVLE9BQU8sS0FBS2xCLEtBQUwsQ0FBV21CLFFBQTVCO0FBREQ7QUFEQSxhQVZFO0FBZ0JGO0FBQUE7QUFBQSxnQkFBSyxXQUFVLHVCQUFmO0FBQ00sMERBQVcsS0FBSSxhQUFmLEVBQThCLFlBQVksb0JBQUNrQyxDQUFELEVBQUs7QUFBRSx5QkFBS3hDLGVBQUwsQ0FBcUJ3QyxDQUFyQjtBQUF3QixpQkFBekUsRUFBNkUsY0FBYSxFQUExRixFQUE2RixhQUFZLG1CQUF6RyxFQUE2SCxNQUFLLElBQWxJLEVBQXVJLE1BQUssSUFBNUksRUFBaUosTUFBSyxTQUF0SixHQUROO0FBRUs7QUFBQTtBQUFBLGtCQUFLLFdBQVUsWUFBZjtBQUNRO0FBQUE7QUFBQSxvQkFBUSxXQUFVLFlBQWxCO0FBQStCLHVEQUFHLFdBQVUsK0JBQWIsR0FBL0I7QUFBQTtBQUFBLGlCQURSO0FBRVE7QUFBQTtBQUFBLG9CQUFRLFdBQVUsWUFBbEI7QUFBK0IsdURBQUcsV0FBVSwrQkFBYixHQUEvQjtBQUFBO0FBQUEsaUJBRlI7QUFHUTtBQUFBO0FBQUEsb0JBQVEsV0FBVSxvQkFBbEIsRUFBdUMsS0FBSSxVQUEzQyxFQUFzRCxTQUFVLEtBQUt6QyxRQUFyRTtBQUErRSx1REFBRyxXQUFVLDBCQUFiO0FBQS9FO0FBSFI7QUFGTDtBQWhCRTtBQURBO0FBREQsT0FERTtBQWdDQTs7Ozs7O0FBR0g7O2tCQUVlakIsVSIsImZpbGUiOiI1My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBpbyBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IENoYXRMaXN0IGZyb20gJy4vY2hhdGxpc3QnO1xuaW1wb3J0IFwiLi4vLi4vc3R5bGUvY3NzL2NoYXR3aW5kb3cuc2Nzc1wiO1xuaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xuXG5jbGFzcyBDaGF0V2luZG93IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgY29uc3QgZW5kUG9pbnQ9bG9jYXRpb24ub3JpZ2luO1xuICAgIHRoaXMuc3RhdGUgPXtcbiAgICAgICd1c2VyRGF0YSc6W10sXG4gICAgICAnZGlzcGxheSc6J2hpZGRlbicsXG4gICAgICAnc3RhdHVzJzonJyxcbiAgICAgICdjaGF0bWVzc2FnZSc6W10sXG4gICAgICAnY2hhdExpc3QnOltdLFxuICAgICAgJ2N1cnJlbnRDaGF0V2luZG93Jzp7J29uZSc6d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSwnc2Vjb25kJzonJ31cbiAgICB9O1xuICAgIFxuICAgdGhpcy50eXBldGV4dD0nJztcbiAgIHRoaXMuc29ja2V0ID0gaW8odGhpcy5zdGF0ZS5lbmRwb2ludCk7XG4gICBsZXQgdXNlcklkPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpO1xuICAgXG4gICBpZih1c2VySWQhPT0nbnVsbCcgJiYgdXNlcklkIT09J3VuZGVmaW5lZCcpe1xuICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ0lOSVRfQ09OTkVDVElPTicsIHtteWlkOnVzZXJJZH0pO1xuICAgfVxuICBcbiAgIHRoaXMuY2hhdEVuYWJsZUhhbmRsZXI9IHRoaXMuY2hhdEVuYWJsZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgIHRoaXMuc2VuZGNoYXQ9IHRoaXMuc2VuZGNoYXQuYmluZCh0aGlzKTtcbiAgIHRoaXMuX2hhbmRsZUtleVByZXNzPXRoaXMuX2hhbmRsZUtleVByZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zb2NrZXQub24oJ1JFQ0VJVkVfQ0hBVF9ISVNUT1JZJywgKGRhdGEpPT57XG4gICAgIHRoaXMuYWRkTWVzc2FnZShkYXRhLHRydWUpO1xuICAgfSk7XG4gICB0aGlzLnNvY2tldC5vbignUkVDRUlWRV9DSEFUJywgKGRhdGEpPT57XG4gICAgICB0aGlzLmFkZE1lc3NhZ2UoZGF0YSxmYWxzZSk7XG4gICB9KTtcbiAgIFxuICB9O1xuICAgXG4gICBcbiAgYWRkTWVzc2FnZShkYXRhLGZsYWcpIHtcbiAgIGlmKGZsYWcpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtjaGF0TGlzdDpkYXRhLmNoYXREYXRhfSk7XG4gICB9ZWxzZXtcbiAgICAgIHZhciBhcnJVc2VyPSAgdGhpcy5jaGVja0NoYXR3aXRoU2FtZVVzZXIoZGF0YS5jaGF0dGl0bGUpO1xuICAgIGlmKGFyclVzZXIubGVuZ3RoPjApe1xuICAgICAgICAgUHViU3ViLnB1Ymxpc2ggKCdOT1RJRklDQVRJT05fVE9fVVNFUkxJU1QnLCB7dXNlcklkOmFyclVzZXJ9KTtcbiAgICB9ZWxzZXtcbiAgICAgICBcbiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgIHRoaXMuc2V0U3RhdGUoe2NoYXRMaXN0OmRhdGEuY2hhdERhdGF9KTtcbiAgICB9XG4gICB9XG4gICAgIFxuICB9O1xuICBcbiAgXG4gIGNoZWNrQ2hhdHdpdGhTYW1lVXNlcihjaGF0dGl0bGUpe1xuICAgIGxldCBhcnJUZW1wPVtdLFxuICAgICAgICBhcnJUaGF0VXNlcnMgPWNoYXR0aXRsZS5zcGxpdCgnLS0tLScpLFxuICAgICAgICBhcnJDdXJybnRBY3RpdmVXaW5kb3c9W3RoaXMuc3RhdGUuY3VycmVudENoYXRXaW5kb3cub25lLHRoaXMuc3RhdGUuY3VycmVudENoYXRXaW5kb3cuc2Vjb25kXTtcbiAgIFxuICAgIGFyclRoYXRVc2Vycy5tYXAoKGkpPT57XG4gICAgICBpZighYXJyQ3Vycm50QWN0aXZlV2luZG93LmluY2x1ZGVzKGkpKXtcbiAgICAgICAgICBhcnJUZW1wLnB1c2goaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICByZXR1cm4gYXJyVGVtcDtcbiAgfTtcbiBcbiAgXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIFB1YlN1Yi5zdWJzY3JpYmUoJ1RSSUdHRVJfQ0hBVF9FTkFCTEUnLHRoaXMuY2hhdEVuYWJsZUhhbmRsZXIpO1xuICB9XG5cbiAgY2hhdEVuYWJsZUhhbmRsZXIoZXZlbnRzdHJpbmcsZGF0YSl7XG4gICAvL1xuICAgICBmZXRjaCAoYC9hcGkvZ2V0dXNlcmRldGFpbC8ke2RhdGEudG93aG9tZX1gLCB7bWV0aG9kOiAnZ2V0JywgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9fVxuICAgICkudGhlbiAocmVzID0+IHJlcy5qc29uICgpXG4gICAgKS50aGVuIChqc29uID0+IHtcbiAgICAgIGlmIChqc29uLmhhc093blByb3BlcnR5ICgnbGlzdCcpKSB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCBqc29uLmxpc3QpO1xuICAgICAgICAgdGhpcy5zZXRTdGF0ZSAoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICd1c2VyRGF0YSc6IGpzb24ubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzonJyxcbiAgICAgICAgICAgICAgICAgICAgICdjdXJyZW50Q2hhdFdpbmRvdyc6eydvbmUnOndpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmlkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICdzZWNvbmQnOmpzb24ubGlzdFswXS5faWRcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgdGhpcy5zaG93Q2hhdG9uZmlyc3RMb2FkKGpzb24ubGlzdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gIHNob3dDaGF0b25maXJzdExvYWQoYXJyVXNlckRldGFpbCl7XG4gICAgdGhpcy5zb2NrZXQuZW1pdCgnQ0hBVF9ISVNUT1JZJywgXG4gICAge1xuICAgICAgbXlEZXRhaWw6d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSxcbiAgICAgIHRvRGV0YWlsOiBhcnJVc2VyRGV0YWlsXG4gICAgfVxuICAgICAgKTtcbiAgfTtcbiAgXG4gIFxuICAgX2hhbmRsZUtleVByZXNzKGUpe1xuICAgICAgIHRoaXMudHlwZXRleHQ9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgIHRoaXMucmVmcy5zZW5kY2hhdC5jbGljaygpO1xuICAgIH1cbiAgfVxuICBcbiAgIFxuICBzZW5kY2hhdCgpe1xuICAgIHRoaXMuc29ja2V0LmVtaXQoJ0NIQVRfVFJJR0dFUl9JTkRJVklEVUFMJywgXG4gICAgICB7XG4gICAgICBcInBpbmdGcm9tXCI6d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSxcbiAgICAgIFwibWVzc2FnZVwiOnRoaXMudHlwZXRleHQsXG4gICAgICBcIm1zZ1RvXCI6dGhpcy5zdGF0ZS51c2VyRGF0YVswXSxcbiAgICAgIFwidGltZVwiOkRhdGUubm93KClcbiAgICB9XG4gICApO1xuICB0aGlzLnJlZnMudGV4dG1lc3NhZ2UudmFsdWU9JycgXG4gIH07XG4gIFxuICBcbiAgY2hhdGhlYWRlcihzdGF0ZSl7XG4gICAgICBpZihzdGF0ZS51c2VyRGF0YS5sZW5ndGg+MCl7XG4gICAgICAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3B1cC1oZWFkLWxlZnQgcHVsbC1sZWZ0XCI+XG4gICAgeygoKT0+e1xuICAgICAgICBpZihzdGF0ZS51c2VyRGF0YVswXS5oYXNPd25Qcm9wZXJ0eSgndXNlckRldGFpbCcpKXtcbiAgICAgICAgICAgLy8gcmV0dXJuKDxpbWcgc3JjPXtzdGF0ZS51c2VyRGF0YVswXS51c2VyRGV0YWlsLnBob3RvZGF0YX0gYWx0PVwiaW1nXCIvPilcbiAgICAgICAgICB9XG4gICAgICB9KSgpfVxuICAgICAgIHtzdGF0ZS51c2VyRGF0YVswXS5maXJzdE5hbWV9IHtzdGF0ZS51c2VyRGF0YVswXS5sYXN0TmFtZX1cbiAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgICB9IFxuICB9XG4gICBcbiAgcmVuZGVyKCkge1xuICAgcmV0dXJuIChcbiA8bWFpbiBjbGFzc05hbWU9e3RoaXMuc3RhdGUuZGlzcGxheX0gPlxuICA8ZGl2IGNsYXNzTmFtZT0ncG9wdXAtYm94Jz4gXG4gIDxkaXYgIGNsYXNzTmFtZT0nY2hhdHdpbmRvdyc+XG4gIDxkaXYgY2xhc3NOYW1lPVwicG9wdXAtaGVhZFwiPlxuICB7dGhpcy5jaGF0aGVhZGVyKHRoaXMuc3RhdGUpfVxuICA8ZGl2IGNsYXNzTmFtZT1cInBvcHVwLWhlYWQtcmlnaHQgcHVsbC1yaWdodFwiPlxuICAgICA8YnV0dG9uIGRhdGEtd2lkZ2V0PVwicmVtb3ZlXCIgaWQ9XCJyZW1vdmVDbGFzc1wiIG9uQ2xpY2sgPXsoKT0+IHRoaXMuc2V0U3RhdGUoeydkaXNwbGF5JzonaGlkZGVuJ30pfSBcbiAgICAgICBjbGFzc05hbWU9XCJjaGF0LWhlYWRlci1idXR0b24gcHVsbC1yaWdodFwiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLW9mZlwiPjwvaT5cbiAgICAgPC9idXR0b24+XG4gIDwvZGl2PlxuPC9kaXY+XG48ZGl2IGNsYXNzTmFtZT1cInBvcHVwLW1lc3NhZ2VzXCI+IFxuPHVsIGNsYXNzTmFtZT1cImNoYXRjb250ZW50XCI+XG4gPENoYXRMaXN0IHByb3BzPXt0aGlzLnN0YXRlLmNoYXRMaXN0fS8+XG48L3VsPiBcbjwvZGl2PlxuXG48ZGl2IGNsYXNzTmFtZT1cInBvcHVwLW1lc3NhZ2VzLWZvb3RlclwiPlxuICAgICAgPHRleHRhcmVhICByZWY9XCJ0ZXh0bWVzc2FnZVwiICBvbktleVByZXNzPXsoZSk9PnsgdGhpcy5faGFuZGxlS2V5UHJlc3MoZSl9fSAgIGRlZmF1bHRWYWx1ZT1cIlwiIHBsYWNlaG9sZGVyPVwiVHlwZSBhIG1lc3NhZ2UuLi5cIiByb3dzPVwiMTBcIiBjb2xzPVwiNDBcIiBuYW1lPVwibWVzc2FnZVwiLz4gIFxuICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1mb290ZXJcIj5cbiAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJnX25vbmUgZG5cIj48aSBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLXBhcGVyY2xpcFwiPjwvaT4gPC9idXR0b24+XG4gICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJiZ19ub25lIGRuXCI+PGkgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtdXBcIj48L2k+IDwvYnV0dG9uPlxuICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYmdfbm9uZSBwdWxsLXJpZ2h0XCIgcmVmPSdzZW5kY2hhdCcgb25DbGljayA9e3RoaXMuc2VuZGNoYXR9PjxpIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tc2VuZFwiPjwvaT4gXG4gICAgICAgPC9idXR0b24+XG4gICAgIDwvZGl2PlxuPC9kaXY+XG48L2Rpdj5cbjwvZGl2PlxuPC9tYWluPlxuICAgICk7XG4gIH1cbiAgO1xufVxuO1xuXG5leHBvcnQgZGVmYXVsdCBDaGF0V2luZG93O1xuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2xpZW50L3NyYy9jb21wb25lbnRzL2NoYXR3aW5kb3cvY2hhdHdpbmRvdy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///53\n')}});