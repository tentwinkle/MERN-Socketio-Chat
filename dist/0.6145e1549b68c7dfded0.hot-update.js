webpackHotUpdate(0,{

/***/ 60:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pubsubJs = __webpack_require__(9);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\n__webpack_require__(4);\n\nvar _reactRouterDom = __webpack_require__(8);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Auth = function () {\n  function Auth() {\n    _classCallCheck(this, Auth);\n\n    // 1 min =60000\n    // 10 min=600000\n    this.newTokenInmin = 60000;\n    this.interval = null;\n  }\n\n  _createClass(Auth, [{\n    key: 'validateToken',\n    value: function validateToken(pathtorediect) {\n      var _this = this;\n\n      fetch('/api/authvalidate', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-access-token': window.localStorage.getItem('accessToken')\n        },\n        body: JSON.stringify({})\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        console.log(json);\n        if (json.statuscode === 403) {\n          _pubsubJs2.default.publish('IS_LOGIN', { status: false, token: window.localStorage.getItem('accessToken') });\n          _this.props.history.push(\"/login\");\n        }\n      });\n    }\n  }, {\n    key: 'distroyedToken',\n    value: function distroyedToken(pathtorediect) {\n      fetch('/api/invalidate', {\n        method: 'post',\n        body: JSON.stringify({})\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        console.log(json);\n        if (json.statuscode === 403) {\n          pathtorediect();\n        }\n      });\n    }\n  }, {\n    key: 'requestNewToken',\n    value: function requestNewToken() {\n\n      this.interval = setInterval(function () {\n        fetch('/api/newtoken', {\n          method: 'post',\n          body: JSON.stringify({})\n        }).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          console.log(\"newToken>>>>>>>>>\", json);\n          window.localStorage.setItem('accessToken', json.accesstoken);\n        });\n      }, this.newTokenInmin);\n    }\n  }, {\n    key: 'clearInterval',\n    value: function (_clearInterval) {\n      function clearInterval() {\n        return _clearInterval.apply(this, arguments);\n      }\n\n      clearInterval.toString = function () {\n        return _clearInterval.toString();\n      };\n\n      return clearInterval;\n    }(function () {\n\n      clearInterval(this.interval);\n    })\n  }]);\n\n  return Auth;\n}();\n\nexports.default = (0, _reactRouterDom.withRouter)(Auth);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL2NvbW1vbi9hdXRoLmpzPzM5YzciXSwibmFtZXMiOlsiQXV0aCIsIm5ld1Rva2VuSW5taW4iLCJpbnRlcnZhbCIsInBhdGh0b3JlZGllY3QiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwicmVzIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXNjb2RlIiwicHVibGlzaCIsInN0YXR1cyIsInRva2VuIiwicHJvcHMiLCJoaXN0b3J5IiwicHVzaCIsInNldEludGVydmFsIiwic2V0SXRlbSIsImFjY2Vzc3Rva2VuIiwiY2xlYXJJbnRlcnZhbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOztBQUNBOzs7Ozs7SUFHUUEsSTtBQUVOLGtCQUFjO0FBQUE7O0FBQ1o7QUFDQTtBQUNBLFNBQUtDLGFBQUwsR0FBcUIsS0FBckI7QUFDQSxTQUFLQyxRQUFMLEdBQWMsSUFBZDtBQUVEOzs7O2tDQUVhQyxhLEVBQWU7QUFBQTs7QUFDM0JDLFlBQU8sbUJBQVAsRUFBNEI7QUFDMUJDLGdCQUFRLE1BRGtCO0FBRTFCQyxpQkFBUztBQUNQLDBCQUFnQixrQkFEVDtBQUVQLDRCQUFrQkMsT0FBT0MsWUFBUCxDQUFvQkMsT0FBcEIsQ0FBNkIsYUFBN0I7QUFGWCxTQUZpQjtBQU0xQkMsY0FBTUMsS0FBS0MsU0FBTCxDQUFnQixFQUFoQjtBQU5vQixPQUE1QixFQVFFQyxJQVJGLENBUVE7QUFBQSxlQUFPQyxJQUFJQyxJQUFKLEVBQVA7QUFBQSxPQVJSLEVBUTRCRixJQVI1QixDQVFrQyxnQkFBUTtBQUN4Q0csZ0JBQVFDLEdBQVIsQ0FBYUYsSUFBYjtBQUNBLFlBQUlBLEtBQUtHLFVBQUwsS0FBb0IsR0FBeEIsRUFBNkI7QUFDNUIsNkJBQU9DLE9BQVAsQ0FBZ0IsVUFBaEIsRUFBNEIsRUFBQ0MsUUFBUSxLQUFULEVBQWdCQyxPQUFPZCxPQUFPQyxZQUFQLENBQW9CQyxPQUFwQixDQUE2QixhQUE3QixDQUF2QixFQUE1QjtBQUNHLGdCQUFLYSxLQUFMLENBQVdDLE9BQVgsQ0FBbUJDLElBQW5CLENBQXlCLFFBQXpCO0FBQ0g7QUFDRixPQWREO0FBZ0JEOzs7bUNBRWdCckIsYSxFQUFlO0FBQzlCQyxZQUFPLGlCQUFQLEVBQTBCO0FBQ3hCQyxnQkFBUSxNQURnQjtBQUV4QkssY0FBTUMsS0FBS0MsU0FBTCxDQUFnQixFQUFoQjtBQUZrQixPQUExQixFQUlFQyxJQUpGLENBSVE7QUFBQSxlQUFPQyxJQUFJQyxJQUFKLEVBQVA7QUFBQSxPQUpSLEVBSTRCRixJQUo1QixDQUlrQyxnQkFBUTtBQUN4Q0csZ0JBQVFDLEdBQVIsQ0FBYUYsSUFBYjtBQUNBLFlBQUlBLEtBQUtHLFVBQUwsS0FBb0IsR0FBeEIsRUFBNkI7QUFDM0JmO0FBQ0Q7QUFDRixPQVREO0FBV0Q7OztzQ0FFbUI7O0FBRWxCLFdBQUtELFFBQUwsR0FBZ0J1QixZQUFhLFlBQU07QUFDakNyQixjQUFPLGVBQVAsRUFBd0I7QUFDdEJDLGtCQUFRLE1BRGM7QUFFdEJLLGdCQUFNQyxLQUFLQyxTQUFMLENBQWdCLEVBQWhCO0FBRmdCLFNBQXhCLEVBSUVDLElBSkYsQ0FJUTtBQUFBLGlCQUFPQyxJQUFJQyxJQUFKLEVBQVA7QUFBQSxTQUpSLEVBSTRCRixJQUo1QixDQUlrQyxnQkFBUTtBQUN4Q0csa0JBQVFDLEdBQVIsQ0FBYSxtQkFBYixFQUFrQ0YsSUFBbEM7QUFDQVIsaUJBQU9DLFlBQVAsQ0FBb0JrQixPQUFwQixDQUE2QixhQUE3QixFQUE0Q1gsS0FBS1ksV0FBakQ7QUFDRCxTQVBEO0FBUUQsT0FUZSxFQVNiLEtBQUsxQixhQVRRLENBQWhCO0FBV0Q7Ozs7Ozs7Ozs7Ozs7a0JBRWM7O0FBRWIyQixvQkFBZSxLQUFLMUIsUUFBcEI7QUFFRCxLOzs7Ozs7a0JBSVksZ0NBQVdGLElBQVgsQyIsImZpbGUiOiI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJztcbmltcG9ydCAnd2hhdHdnLWZldGNoJztcbmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuXG4gIGNsYXNzIEF1dGgge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIDEgbWluID02MDAwMFxuICAgIC8vIDEwIG1pbj02MDAwMDBcbiAgICB0aGlzLm5ld1Rva2VuSW5taW4gPSA2MDAwMDtcbiAgICB0aGlzLmludGVydmFsPW51bGw7XG5cbiAgfVxuXG4gIHZhbGlkYXRlVG9rZW4ocGF0aHRvcmVkaWVjdCkge1xuICAgIGZldGNoICgnL2FwaS9hdXRodmFsaWRhdGUnLCB7XG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtICgnYWNjZXNzVG9rZW4nKVxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5ICh7fSlcbiAgICB9XG4gICAgKS50aGVuIChyZXMgPT4gcmVzLmpzb24gKCkpLnRoZW4gKGpzb24gPT4ge1xuICAgICAgY29uc29sZS5sb2cgKGpzb24pO1xuICAgICAgaWYgKGpzb24uc3RhdHVzY29kZSA9PT0gNDAzKSB7XG4gICAgICAgUHViU3ViLnB1Ymxpc2ggKCdJU19MT0dJTicsIHtzdGF0dXM6IGZhbHNlLCB0b2tlbjogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtICgnYWNjZXNzVG9rZW4nKX0pO1xuICAgICAgICAgIHRoaXMucHJvcHMuaGlzdG9yeS5wdXNoIChcIi9sb2dpblwiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG4gIDtcbiAgICBkaXN0cm95ZWRUb2tlbihwYXRodG9yZWRpZWN0KSB7XG4gICAgZmV0Y2ggKCcvYXBpL2ludmFsaWRhdGUnLCB7XG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5ICh7fSlcbiAgICB9XG4gICAgKS50aGVuIChyZXMgPT4gcmVzLmpzb24gKCkpLnRoZW4gKGpzb24gPT4ge1xuICAgICAgY29uc29sZS5sb2cgKGpzb24pO1xuICAgICAgaWYgKGpzb24uc3RhdHVzY29kZSA9PT0gNDAzKSB7XG4gICAgICAgIHBhdGh0b3JlZGllY3QgKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuICA7XG4gICAgcmVxdWVzdE5ld1Rva2VuKCkge1xuXG4gICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsICgoKSA9PiB7XG4gICAgICBmZXRjaCAoJy9hcGkvbmV3dG9rZW4nLCB7XG4gICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSAoe30pXG4gICAgICB9XG4gICAgICApLnRoZW4gKHJlcyA9PiByZXMuanNvbiAoKSkudGhlbiAoanNvbiA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nIChcIm5ld1Rva2VuPj4+Pj4+Pj4+XCIsIGpzb24pO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0gKCdhY2Nlc3NUb2tlbicsIGpzb24uYWNjZXNzdG9rZW4pO1xuICAgICAgfSk7XG4gICAgfSwgdGhpcy5uZXdUb2tlbklubWluKTtcblxuICB9O1xuICBcbiAgY2xlYXJJbnRlcnZhbCgpe1xuICAgIFxuICAgIGNsZWFySW50ZXJ2YWwoIHRoaXMuaW50ZXJ2YWwpO1xuICAgIFxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFJvdXRlcihBdXRoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jbGllbnQvc3JjL2NvbW1vbi9hdXRoLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///60\n");

/***/ })

})