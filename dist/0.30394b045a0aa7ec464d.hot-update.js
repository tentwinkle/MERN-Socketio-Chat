webpackHotUpdate(0,{95:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),c=a(r),u=n(96),f=a(u),d=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.postId="";var a=!1,l="Save";return e.match.params.hasOwnProperty("id")&&(a=!0,n.postId=e.match.params.id,l="Update"),n.state={content:"",title:"",tags:"",userid:window.localStorage.getItem("userid"),flag:"s",edit:a,savebutton:l,postid:n.postId},n.onChange=n.onChange.bind(n),n.titlechange=n.titlechange.bind(n),n.tagchange=n.tagchange.bind(n),n.cancelPost=n.cancelPost.bind(n),n.submitPost=n.submitPost.bind(n),n.onInstanceReady=n.onInstanceReady.bind(n),n}return l(t,e),i(t,[{key:"componentWillMount",value:function(){}},{key:"setDatainform",value:function(e){this.refs.posttitle.value=e[0].title,this.refs.tags.value=e[0].tags}},{key:"onInstanceReady",value:function(e){var t=this;this.state.edit&&fetch("/api/getmyposts",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:this.state.userid,postid:this.postId})}).then(function(e){return e.json()}).then(function(n){t.setDatainform(n.posts),e.editor.setData(n.posts[0].body)})}},{key:"submitPost",value:function(){if(""!==this.state.content&&""!==this.refs.posttitle.value){var e={content:this.state.content,title:this.refs.posttitle.value,tags:this.refs.tags.value,userid:this.state.userid,flag:"s",postid:this.postId};this.callNewUserApi(e)}else alert("Please fill Title and Content!! ")}},{key:"callNewUserApi",value:function(e){fetch("/api/savepost",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){alert(e.message)})}},{key:"cancelPost",value:function(){console.log(this.state)}},{key:"tagchange",value:function(e){this.setState({tags:e})}},{key:"titlechange",value:function(e){this.setState({title:e})}},{key:"onChange",value:function(e){console.log(">>");var t=e.editor.getData();this.setState({content:t})}},{key:"onBlur",value:function(e){}},{key:"afterPaste",value:function(e){}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"panel panel-default"},c.default.createElement("div",{className:"panel-heading clearfix"},c.default.createElement("h3",{className:"panel-title pull-left"},"New Post")),c.default.createElement("div",{className:"panel-body"},c.default.createElement("div",{className:"form-group"},c.default.createElement("label",null,"Post Title"),c.default.createElement("input",{type:"input",ref:"posttitle",onChange:function(t){e.titlechange(t.target.value)},className:"form-control",placeholder:"Title"})),c.default.createElement("div",{className:"form-group"},c.default.createElement("label",null,"Content"),c.default.createElement(f.default,{ref:"editor",activeClass:"p10",config:{language:"en",isScriptLoaded:!0,toolbarCanCollapse:!1},content:this.state.content,placeholder:"Trying ...",events:{blur:this.onBlur,afterPaste:this.afterPaste,change:this.onChange,instanceReady:this.onInstanceReady}})),c.default.createElement("div",{className:"form-group"},c.default.createElement("label",null,"Tags"),c.default.createElement("input",{type:"input",ref:"tags",onChange:function(t){e.tagchange(t.target.value)},className:"form-control",placeholder:"Separate Tags with Comma "})),c.default.createElement("button",{type:"button",onClick:function(t){e.submitPost("save")},className:"btn btn-success"},this.state.savebutton),"Â ",c.default.createElement("button",{type:"button",onClick:function(t){e.cancelPost()},className:"btn"},"Cancel")))}}]),t}(r.Component);t.default=d}});